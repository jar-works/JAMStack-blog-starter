<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ title }}</title>
        <link rel="stylesheet" href="/style.css">

        {# KP uses defer. Look more into this, but there may be an issue. #}
        <script defer src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    </head>
    <body>
        {# <h1>{{title}}</h1> #}

        {% include "header.njk" %}

        <main>
            {# Content is anything after the frontmatter/meta-data #}
            {# Safe is used to make sure it's read as HTML (will read as a string), not text #}
            {{ content | safe }}
        </main>
        
        {% include "footer.njk" %}

        <script>
            if (window.netlifyIdentity) {
                window.netlifyIdentity.on("init", (user) => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                    document.location.href = "/admin/";
                    });
                }
                });
            }
        </script>
    </body>
</html>